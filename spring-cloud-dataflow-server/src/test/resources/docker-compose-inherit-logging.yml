version: '3'

# Enable inherit-logging for all stream and task applications. This allows the logs for those apps (including CRT)
# to be inlined within the logs of the parent (e.g. Data Flow or Skipper) applications.
# The parent logs are often preserved by the CI as build artefacts, this would allow collect and preserver
# the apps logs as well.
services:
  dataflow-server:
    environment:
      - SPRING_CLOUD_DATAFLOW_TASK_PLATFORM_LOCAL_ACCOUNTS_DEFAULT_INHERIT_LOGGING=true
  skipper-server:
    environment:
      - SPRING_CLOUD_SKIPPER_SERVER_PLATFORM_LOCAL_ACCOUNTS_DEFAULT_INHERIT_LOGGING=true
